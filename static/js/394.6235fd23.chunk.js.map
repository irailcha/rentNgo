{"version":3,"file":"static/js/394.6235fd23.chunk.js","mappings":"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","sources":["pages/Adverts/Adverts.style.js","components/SearchForm/SearchForm.styled.js","components/SearchForm/SearchForm.js","pages/Adverts/Adverts.js","redux/Ads/selectors.js"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const ButtonStyle = styled.button`\n  display: inline-block;\n  border: none;\n  cursor: pointer;\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 24px;\n  background-color: transparent;\n  color: #3470ff;\n  margin: auto 0;\n\n  :hover {\n    color: #0b44cd;\n  }\n`;\n\nexport const ButtonUpPage = styled.button`\n  position: absolute;\n  display: block;\n  border: solid 1px #3470ff;\n  border-radius: 50%;\n  padding: 10px;\n  cursor: pointer;\n  right: 0;\n  bottom: 0;\n  background-color: transparent;\n  float: right;\n  margin: 10px;\n  width: 40px;\n  height: 40px;\n\n  :hover {\n    background-color: #3470ff;\n  }\n`;\n","import styled from '@emotion/styled';\nimport { css } from '@emotion/react';\nimport { Form, Field } from 'formik';\n\nconst borderColors = {\n  normal: 'transparent',\n  withBorder: 'rgba(138, 138, 137, 0.2)',\n};\n\nexport const LabelStyleForm = styled.label`\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 18px;\n  color: #8a8a89;\n`;\n\nexport const FormStyle = styled(Form)`\n  display: flex;\n  gap: 18px;\n  margin-bottom: 50px;\n  justify-content: center;\n  align-items: flex-end;\n`;\n\nexport const MieleageStyleForm = styled.div`\n  display: flex;\n`;\n\nexport const ButtonStyle = styled.button`\n  display: block;\n  border-radius: 12px;\n  padding: 0 44px;\n  cursor: pointer;\n  font-weight: 600;\n  font-size: 20px;\n  line-height: 14px;\n  background-color: #3470ff;\n  height: 48px;\n  color: #ffffff;\n  :hover {\n    background-color: #0b44cd;\n  }\n`;\n\nexport const FieldStyle = styled(Field)`\n  border-radius: 12px;\n  width: 125px;\n`;\n\nconst commonFieldStyles = css`\n  font-weight: 500;\n  font-size: 18px;\n  line-height: 20px;\n  color: #121417;\n  background-color: #f7f7fb;\n  padding-top: 14px;\n  padding-bottom: 14px;\n  padding-left: 18px;\n  border: none;\n`;\n\nexport const FieldStyleMark = styled(Field)`\n  ${commonFieldStyles}\n  border-radius: 12px;\n  width: 224px;\n  position: relative;\n`;\n\nexport const FieldStylePrice = styled(Field)`\n  ${commonFieldStyles}\n  border-radius: 12px;\n  width: 125px;\n`;\n\nexport const FieldStyleMileage = styled(Field)`\n  position: relative;\n  ${commonFieldStyles}\n  width: 160px;\n  border-radius: ${props => (props.left ? '12px 0 0 12px' : '0 12px 12px 0')};\n  border: 1px solid ${borderColors.withBorder};\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    width: 1px;\n    background-color: ${borderColors.withBorder};\n    left: ${props => (props.left ? '100%' : '0')};\n  }\n`;\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Formik } from 'formik';\nimport { FormStyle, ButtonStyle } from './SearchForm.styled';\nimport { fetchCarBrands, fetchAdverts } from '../../redux/Ads/operations';\nimport { selectCarBrands } from '../../redux/Ads/selectors';\nimport { setFilterMake } from '../../redux/Ads/filterSlice';\nexport const SearchForm = ({ onSubmit }) => {\n  const dispatch = useDispatch();\n  const marks = useSelector(selectCarBrands);\n  const [selectedMake, setSelectedMake] = useState('');\n\n  useEffect(() => {\n    dispatch(fetchCarBrands());\n  }, [dispatch]);\n\n  const handleSelectChange = e => {\n    setSelectedMake(e.target.value);\n  };\n\n  const handleFormSubmit = async values => {\n    if (selectedMake !== '') {\n      await dispatch(fetchAdverts({ page: 1, limit: 12 }));\n    }\n\n    dispatch(setFilterMake(selectedMake));\n    onSubmit(values);\n  };\n\n  return (\n    <Formik initialValues={{ search: '' }} onSubmit={handleFormSubmit}>\n      {({ setFieldValue }) => (\n        <FormStyle id=\"search-form\" role=\"search\">\n          {marks.length > 0 && (\n            <select\n              name=\"search\"\n              onChange={handleSelectChange}\n              onFocus={() => setSelectedMake('')}\n              style={{\n                display: 'block',\n                marginTop: '8px',\n                padding: '12px',\n                width: '224px',\n              }}\n            >\n              <option value=\"\">Select a car brand</option>\n              {marks.map((mark, index) => (\n                <option key={index} value={mark}>\n                  {mark}\n                </option>\n              ))}\n            </select>\n          )}\n          <ButtonStyle\n            type=\"submit\"\n            onSubmit={values => {\n              onSubmit(values);\n            }}\n          >\n            Search\n          </ButtonStyle>\n        </FormStyle>\n      )}\n    </Formik>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { CarList } from '../../components/CarList/CarList';\nimport { fetchAdverts } from '../../redux/Ads/operations';\nimport { Loader } from '../../components/helpers/Loader';\nimport { selectIsLoading, selectAdverts } from '../../redux/Ads/selectors';\nimport { ButtonStyle, ButtonUpPage } from './Adverts.style';\nimport { SearchForm } from '../../components/SearchForm/SearchForm';\nimport { GoArrowUp } from 'react-icons/go';\nimport { selectFilteredAdvertsByMake } from '../../redux/Ads/selectors';\n\nconst Adverts = () => {\n  const dispatch = useDispatch();\n  const isLoading = useSelector(selectIsLoading);\n  const adverts = useSelector(selectAdverts);\n  const filteredAdverts = useSelector(selectFilteredAdvertsByMake);\n  const selectedMake = useSelector(state => state.filter.selectedMake);\n  const [page, setPage] = useState(1);\n  const [isLoadMoreHidden, setIsLoadMoreHidden] = useState(true);\n  const [loadedAdverts, setLoadedAdverts] = useState([]);\n\n  useEffect(() => {\n    dispatch(fetchAdverts({ page, limit: 12 }));\n  }, [dispatch, page]);\n\n  const loadMore = () => {\n    if (isLoading) return;\n    setPage(prevPage => prevPage + 1);\n  };\n\n  useEffect(() => {\n    setLoadedAdverts(prevAdverts => [...prevAdverts, ...adverts]);\n    if (adverts.length < 12) {\n      setIsLoadMoreHidden(true);\n    } else {\n      setIsLoadMoreHidden(false);\n    }\n  }, [adverts]);\n\n  useEffect(() => {\n    localStorage.setItem('loadedAdverts', JSON.stringify(loadedAdverts));\n  }, [loadedAdverts]);\n\n  useEffect(() => {\n    const savedAdverts = localStorage.getItem('loadedAdverts');\n    if (savedAdverts) {\n      setLoadedAdverts(JSON.parse(savedAdverts));\n    }\n  }, []);\n\n  return (\n    <div style={{ position: 'relative', height: 'auto' }}>\n      <SearchForm />\n      {isLoading && <Loader />}\n      <CarList adverts={selectedMake ? filteredAdverts : loadedAdverts} />\n      {!isLoadMoreHidden && (\n        <ButtonStyle onClick={loadMore}>Load More</ButtonStyle>\n      )}\n\n      <ButtonUpPage onClick={() => window.scrollTo(0, 0)}>\n        <GoArrowUp />\n      </ButtonUpPage>\n    </div>\n  );\n};\n\nexport default Adverts;\n","import { createSelector } from '@reduxjs/toolkit';\n\nexport const selectCarImages = state => state.ads.carImages;\n\nexport const selectCarBrands = state => state.ads.carBrands;\n\nexport const selectError = state => state.ads.error;\n\nexport const selectAdverts = state => state.ads.adverts;\n\nexport const selectIsLoading = state => state.ads.isLoading;\n\nexport const selectFilteredAdverts = state => state.filter.filteredAdverts;\n\nexport const selectFilteredAdvertsByMake = createSelector(\n  [selectAdverts, state => state.filter.selectedMake],\n  (adverts, selectedMake) => {\n    if (!selectedMake) {\n      return adverts;\n    }\n    return adverts.filter(\n      advert => advert.make.toLowerCase() === selectedMake.toLowerCase()\n    );\n  }\n);\n"],"names":["ButtonStyle","styled","_templateObject","_taggedTemplateLiteral","ButtonUpPage","_templateObject2","borderColors","FormStyle","Form","_templateObject3","_templateObject4","commonFieldStyles","Field","_templateObject5","css","_templateObject6","_templateObject7","_templateObject8","_templateObject9","props","left","SearchForm","_ref","onSubmit","dispatch","useDispatch","marks","useSelector","selectCarBrands","_useState","useState","_useState2","_slicedToArray","selectedMake","setSelectedMake","useEffect","fetchCarBrands","handleSelectChange","e","target","value","handleFormSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","_callee","values","_context","prev","next","fetchAdverts","page","limit","setFilterMake","stop","_x","apply","arguments","_jsx","Formik","initialValues","search","children","_ref3","setFieldValue","_jsxs","id","role","length","name","onChange","onFocus","style","display","marginTop","padding","width","map","mark","index","type","isLoading","selectIsLoading","adverts","selectAdverts","filteredAdverts","selectFilteredAdvertsByMake","state","filter","setPage","_useState3","_useState4","isLoadMoreHidden","setIsLoadMoreHidden","_useState5","_useState6","loadedAdverts","setLoadedAdverts","prevAdverts","concat","_toConsumableArray","localStorage","setItem","JSON","stringify","savedAdverts","getItem","parse","position","height","Loader","CarList","onClick","prevPage","window","scrollTo","GoArrowUp","selectCarImages","ads","carImages","carBrands","selectError","error","createSelector","advert","make","toLowerCase"],"sourceRoot":""}